/**
 * chapo-royal - the official website of CHAPOROYAL
 * @version v1.0.0
 * @link https://github.com/chapo-royal/chapo-royal.github.io
 * @license ISC
 */
"use strict";var _slicedToArray=function(){function e(e,t){var a=[],r=!0,n=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(document).ready(function(){$(document).on("click","a",function(e){"#"===$(this).attr("href")&&e.preventDefault()});var e=function(){var e=window.location.hash;if(""!==e&&"#"!==e){var t=e.split("-"),a=_slicedToArray(t,2),r=a[0],n=a[1],i=$(r);i.length&&($(".wrapper-menu, #menu").removeClass("open"),$(".page").removeClass("active"),i.addClass("active"),$(".overlay").removeClass("active"),n&&$(e).addClass("active"))}};e(),$(window).on("hashchange",e);var t=function(){var e=document.body.clientWidth>768,t=!e;$("body").toggleClass("desktop",e),$("body").toggleClass("mobile",t)};t(),window.onresize=t,$(".wrapper-menu").click(function(){$(".wrapper-menu, #menu").toggleClass("open")});var a=0;window.setInterval(function(){var e=$(".letter");a++,a%=e.length,e.removeClass("active"),e.eq(a).addClass("active")},5e3);var r=$("#presentation"),n=r.find(".indicator"),i=r.find(".slide");n.click(function(){var e=n.index($(this));n.removeClass("active"),$(this).addClass("active"),i.removeClass("active"),i.eq(e).addClass("active")});var s=$("#partenaires"),o=$("#image-city"),l=function(e){return o.css("background-image","url(/img/partenaires/photos/"+e+".jpg)")};s.find(".nation").click(function(){$(this).hasClass("china")&&l("CN-11"),$(this).hasClass("japan")&&l("JP-13"),$(this).hasClass("korea")&&l("KR-11")});var c=s.find(".popup"),d=s.find(".land");d.mousemove(function(e){d.css("fill",""),$(this).css("fill","#D0021B");var t=$(this).attr("title"),a=$(this).attr("id"),r=e.clientX,n=e.clientY;c.css({top:n-c.outerHeight(),left:r}),l(a),$("#label-city").text(t),c.addClass("active")}),d.mouseout(function(){d.css("fill",""),c.removeClass("active")});var u=$("#form-contact"),v=u.find("[type=submit]");u.submit(function(e){e.preventDefault(),v.prop("disabled",!0);var t=u.attr("method"),a=u.attr("action"),r=u.serialize();$.ajax({type:t,url:a,data:r}).done(function(){u[0].reset(),u.find("input, textarea").removeClass("error"),v.prop("disabled",!1),window.location.hash="#contact-done"}).fail(function(e){if(v.prop("disabled",!1),500===e.status&&e.responseJSON){var t=e.responseJSON.error;31002===t.code?(u.find("input, textarea").removeClass("error"),t.fields.forEach(function(e){u.find("[name="+e+"]").addClass("error")})):(console.error(t),alert(t.msg))}else console.error(e),alert(e.statusText)})})});