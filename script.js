/**
 * chapo-royal - the official website of CHAPOROYAL
 * @version v1.0.0
 * @link https://github.com/chapo-royal/chapo-royal.github.io
 * @license ISC
 */
"use strict";var _slicedToArray=function(){function e(e,t){var r=[],a=!0,i=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(document).ready(function(){$(document).on("click","a",function(e){"#"===$(this).attr("href")&&e.preventDefault()});var e=function(){var e=window.location.hash;if(""!==e&&"#"!==e){var t=e.split("-"),r=_slicedToArray(t,2),a=r[0],i=r[1],n=$(a);n.length&&($(".wrapper-menu, #menu").removeClass("open"),$(".page").removeClass("active"),n.addClass("active"),$(".overlay").removeClass("active"),i&&$(e).addClass("active"))}};e(),$(window).on("hashchange",e);var t=function(){var e=document.body.clientWidth>768,t=!e;$("body").toggleClass("desktop",e),$("body").toggleClass("mobile",t)};t(),window.onresize=t,$(".wrapper-menu").click(function(){$(".wrapper-menu, #menu").toggleClass("open")});var r=0;window.setInterval(function(){var e=$(".letter");r++,r%=e.length,e.removeClass("active"),e.eq(r).addClass("active")},5e3);var a=$("#presentation"),i=a.find(".indicator"),n=a.find(".slide");i.click(function(){var e=i.index($(this));i.removeClass("active"),$(this).addClass("active"),n.removeClass("active"),n.eq(e).addClass("active")});var o=$("#partenaires"),s=o.find(".popup"),l=o.find(".land");l.mousemove(function(e){l.css("fill",""),$(this).css("fill","#D0021B");var t=$(this).attr("title"),r=$(this).attr("id");o.find(".description").text("Description of "+t+" ("+r+")");var a=e.clientX,i=e.clientY;s.css({top:i-s.outerHeight(),left:a}),$("#label-city").text(t),s.addClass("active")}),l.mouseout(function(){l.css("fill",""),o.find(".description").text(""),s.removeClass("active")});var c=$("#form-contact"),d=c.find("[type=submit]");c.submit(function(e){e.preventDefault(),d.prop("disabled",!0);var t=c.attr("method"),r=c.attr("action"),a=c.serialize();$.ajax({type:t,url:r,data:a}).done(function(){c[0].reset(),c.find("input, textarea").removeClass("error"),d.prop("disabled",!1),window.location.hash="#contact-done"}).fail(function(e){if(d.prop("disabled",!1),500===e.status&&e.responseJSON){var t=e.responseJSON.error;32002===t.code?(c.find("input, textarea").removeClass("error"),t.fields.forEach(function(e){c.find("[name="+e+"]").addClass("error")})):(console.error(t),alert(t.msg))}else console.error(e),alert(e.statusText)})})});